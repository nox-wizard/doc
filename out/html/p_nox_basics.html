<HTML>
<HEAD>
<TITLE> NOX basics </TITLE>
<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
</HEAD>
<BODY leftmargin="0" rightmargin="0"  topmargin="0" marginwidth="0" marginheight="0">
<TABLE WIDTH="100%" HEIGHT="100%" BORDER="0" cellpadding="0" cellspacing="0" >
	<TR HEIGHT=75 bgcolor=#125492> 
		<TD>
			<image src="logo.gif" >
			<font color="#FFFFFF" size="5" face="ArialBlack">
			version 0.82
			</FONT>
		</TD> 
	</TR>
	<TR HEIGHT=1 bgcolor=#808080><TD></TD></TR>
	<TR HEIGHT=1 bgcolor=#D4D0C8><TD></TD></TR>
	<TR HEIGHT=5 bgcolor=#FFFFFF><TD></TD></TR>
	<TR BGCOLOR=#FFFFFF ALIGN="left"> <TD VALIGN="top">
		<TABLE WIDTH=100% cellpadding="0" cellspacing="0">
			<TR>
				<TD WIDTH=30  VALIGN=top >
					<TABLE WIDTH=30 cellpadding="0" cellspacing="0">
						<TR HEIGHT=26 bgcolor=#FFFFFF><TD></TD></TR>
						<TR HEIGHT=1 bgcolor=#808080><TD></TD></TR>
						<TR HEIGHT=1 bgcolor=#D4D0C8><TD></TD></TR>
						<TR><TD></TD></TR>
					</TABLE>
				</TD>
				<TD>
<!-- Generated by Doxygen 1.3.5 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1><a class="anchor" name="p_nox_basics">NOX basics</a></h1>NOX wizard bases his scripting capabilities on Small, a C derived language.<br>
 I won't explain all good features of Small (wich you can find on <a href="http://www.compuphase.com/small.htm">Small homepage</a>), I'll explain how Small interacts with NOX.<br>
 <h2><a class="anchor" name="thesourcecode">
The source code</a></h2>
NOX wizard is written in C++, all C++ parts are "the source code", these parts are compiled and put into an .exe file (usually noxwizard.exe).<br>
 Although NOX wizard is an open source project (so you can download the C++ code an modify it to your needs) modifyng the source code it's not the right way to cusomize the emulator, as source code changes over NOX versions and you might not be able to follow the evolution, of course you are free to take a stble version's code and make you own NOX wizard without caring of new versions, by this is not NOX aim.<br>
 How can I modify a program's behaviour if I can't access sources? Small language permits this, you can modify the internal emulator behaviur even if you only have an exe file.<br>
<h2><a class="anchor" name="howisthispossible">
How is this possible?</a></h2>
Although Small is not a programming language, it allows you to implement all the algorithms a normal language do, so once we can make the bynaries execute a Small routine, we can do what we want.<br>
 NOX has an embedded Small compiler, and at the startup all Small scripts are compiled and transformed in AMX code (you can see it in override.amx), this code, can be executed by a virtual machine coded in the sources, so once we have the AMX code, the exe can execute it as if it were source code.<br>
 We are done, we can write a Small scrpt and NOX will execute it! Only we still have a problem, how can we tell NOX which script we want to execute and when?<br>
 Here come the only limitation of NOX, we can only execute Small code when NOX allows us, so we can'r insert our routines where we want.<br>
 Luckily NOX allows a great number of locations in his source code where we can insert our custom scripts, so actually this limitation doesn't exist, moreover we must say that if you feel NOX doesn't have a feature you need, you can tell this to the dev team, and it will be added if possible.<br>
 A more detailed description on this argument can be found in the <a class="el" href="p_override.html">Overrides,events and callbacks</a> page.<h2><a class="anchor" name="theAPIs">
The APIs</a></h2>
Now we know how NOX can execute our scripts, but another question rises: how can Small support all the UO features and allow us to make script managing characters, items and so on?<br>
 As a scripting language, Small heavily relies on the main program interface, so Smal is powerfull only if the main program allows it to be powerful, by giving appropriate funcitons to handle the source code data.<br>
 As source code is C++, an Object Oriented Language, is easy for the developers to give to Small the capabilities to interact with the program's objects and data types, doing this, Small becomes similar to an OOL itself, and it can deal with charcaters, items, NPCs, spells viewing them as objects.<br>
 The interface between the source code data and Small are the APIs (Application Programming Interface) wich are Small native functions, implemented in the sources, wich give the possibility to handle the internal data types an classes.<br>
 APIs are declared in the .api files (this extention does not mean anything particular, it's only to identofy them). You will see there are tons of APIs, this is because NOX really gives you control over every aspect of the source code, thus many of the internal functions are duplicated as APIs and made available to the scripter.<br>
<h2><a class="anchor" name="thestandardscripts">
The standard scripts</a></h2>
To help the shards scripters customizing their shards, some scripts are provided to perform in Small the most commonly customized features, these are called the standard scripts.<br>
 Standard scripts are sometimes called by the sources in way that are not permitted to scripters, but we try to keep this exceptions limited to the strict necessary.<br>
 In standard scripts you can find emulator parts written in Small (this demonstrates the power of this language) and you can modify them to your needs. Usually these scripts are designed to be easily customizable by changing some parameteres, so you usually won't have to modify the algorithms, but sometimes this is needed, so the whole code is fully commented to provide you a guide. 				</TD>
				<TD WIDTH=30  VALIGN=top >
					<TABLE WIDTH=30 cellpadding="0" cellspacing="0">
						<TR HEIGHT=26 bgcolor=#FFFFFF><TD></TD></TR>
						<TR HEIGHT=1 bgcolor=#808080><TD></TD></TR>
						<TR HEIGHT=1 bgcolor=#D4D0C8><TD></TD></TR>
						<TR><TD></TD></TR>
					</TABLE>
				</TD>
			</TR>
		</TABLE>
		</TD> 
	</TR>
	<TR HEIGHT=5 bgcolor=#FFFFFF><TD></TD></TR>
	<TR HEIGHT=1 bgcolor=#D4D0C8><TD></TD></TR>
	<TR HEIGHT=1 bgcolor=#808080><TD></TD></TR>
	<TR HEIGHT=75 bgcolor=#125492 ALIGN=right> <TD>
		<font color="#FFFFFF" size="4" face="ArialBlack">
			Documentation generated 28 Dec 2003 &nbsp&nbsp
		</FONT>
	</TD> 
	</TR>
</TABLE>
</BODY>
</HTML>
